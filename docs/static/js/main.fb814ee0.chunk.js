(this["webpackJsonpecommerce-app"]=this["webpackJsonpecommerce-app"]||[]).push([[0],{45:function(e,t,r){},60:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(0),c=r(19),s=r.n(c),o=r(6),i=(r(45),r(14)),u=r(4),l=function(){var e=Object(o.c)((function(e){return e.cart})).products;return Object(a.jsx)("div",{className:"fixed z-10 top-0 h-12",children:Object(a.jsxs)("nav",{className:"bg-gray-800 h-full w-screen mx-auto flex flex-row items-center justify-between sm:h-5/6",children:[Object(a.jsx)(i.b,{className:"text-white p-3 text-xl font-medium",to:"/",children:Object(a.jsx)("i",{className:"fas fa-list"})}),Object(a.jsxs)(i.b,{className:"text-white px-3 py-2 rounded-md text-sm font-medium",to:"/cart",children:[Object(a.jsx)("i",{className:"fas fa-shopping-cart icon-2x text-lg mr-1"}),e.length>0?e.length:""]})]})})},m=r(3),d=r.n(m),p=r(8),b=function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch("https://api.stripe.com/v1/products",{headers:{Authorization:"Bearer sk_test_51HxMyeFjaqj6StBqs4BjSqfiUW1w3vI6zMMneU86XYQ7E7S0grMYM6It5UzWvFf2xrrQU01uJ7qqOV77ETMcpJHZ00f5M9PgHg"}}),fetch("https://api.stripe.com/v1/prices",{headers:{Authorization:"Bearer sk_test_51HxMyeFjaqj6StBqs4BjSqfiUW1w3vI6zMMneU86XYQ7E7S0grMYM6It5UzWvFf2xrrQU01uJ7qqOV77ETMcpJHZ00f5M9PgHg"}})]);case 2:return t=e.sent,e.next=5,Promise.all(t.map((function(e){return e.json()})));case 5:return r=e.sent,a=r[0].data,n=r[1].data,c=n.map((function(e){var t=a.filter((function(t){return t.id===e.product}));return t.map((function(t){return t.priceInfo={currency:e.currency,unit:e.unit_amount_decimal,priceId:e.id}})),t})),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=r(5),j=r(7),A=function(e){var t=e.name,r=e.images,n=e.priceInfo,c=e.amount;return Object(a.jsxs)("figure",{className:"m-auto p-3 w-full flex flex-row justify-between border-b border-gray-400 md:w-10/12 md:border-b",price:n.priceId,children:[Object(a.jsx)("img",{className:"w-2/5 max-h-24 sm:w-1/5",src:r,alt:t}),Object(a.jsxs)("div",{className:"text-center w-6/12",children:[Object(a.jsx)("h1",{className:"text-center text-xl text-light mb-5",children:t}),Object(a.jsx)("figcaption",{className:"bg-blue-500 text-white m-auto w-28 rounded-md",children:c?"x".concat(c," ").concat(n.currency," ").concat(n.unit):"".concat(n.currency," ").concat(n.unit)})]})]})},h=r(15),x=r(21),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),r=Object(j.a)(t,2),a=r[0],c=r[1],s=function(){c(e)},o=function(e){var t=e.target;c(Object(f.a)(Object(f.a)({},a),{},Object(x.a)({},t.name,t.value)))};return[a,o,s]},w="[cart] Add to cart",O="[cart] clean cart",v="[home] load products",y="[home] add product",q=function(e){var t=e.finalPrice,r=e.setPaymentForm,n=Object(h.useStripe)(),c=Object(h.useElements)(),s=g({name:"",email:""}),i=Object(j.a)(s,2),u=i[0],l=i[1],m=Object(o.b)(),b=u.name,f=u.email,A=function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n&&c){e.next=3;break}return e.abrupt("return");case 3:fetch("/secret",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t})}).then((function(e){return e.json()})).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.client_secret,e.next=3,n.confirmCardPayment(a,{payment_method:{card:c.getElement(h.CardElement),billing_details:{name:b,email:f}}});case 3:(s=e.sent).error?console.log(s.error.message):"succeeded"===s.paymentIntent.status&&(console.log("succeeded"),r(!1),m({type:O}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"h-screen w-full bg-black bg-opacity-80 grid place-items-center absolute clickable top-0 z-10",children:Object(a.jsxs)("form",{className:"bg-gray-100 w-11/12 h-4/6 rounded-sm flex flex-col relative items-center justify-evenly shadow-md p-1 animate__animated animate__fadeInRight sm:w-5/12 sm:h-5/6",children:[Object(a.jsx)("button",{onClick:function(e){r(!1)},type:"button",className:"rounded-full position w-7 h-7 grid place-items-center border-2 border-gray-900 absolute -top-2 -right-2 bg-red-300 hover:bg-red-400",children:Object(a.jsx)("i",{className:"fas fa-times"})}),Object(a.jsx)("input",{type:"text",value:b,onChange:l,name:"name",placeholder:"Owner",className:"w-10/12 text-md outline-none bg-transparent p-1 border-b-2 border-gray-800"}),Object(a.jsx)("input",{value:f,onChange:l,name:"email",type:"email",placeholder:"Email",className:"w-10/12 bg-transparent outline-none text-md p-1 border-b-2 border-gray-800"}),Object(a.jsx)(h.CardElement,{className:"w-10/12 text-md bg-transparent p-1 border-b-2 border-indigo-800",options:{style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}}}),Object(a.jsxs)("button",{className:"bg-indigo-700 text-md w-10/12 h-9 rounded-sm text-white",type:"submit",onClick:A,children:["Pay $",t]})]})})},I=r(33);function B(){var e=Object(o.c)((function(e){return e.cart})).products,t=Object(n.useState)(!1),r=Object(j.a)(t,2),c=r[0],s=r[1];if(!e.length)return Object(a.jsx)("h1",{className:"flex flex-col justify-center items-center h-screen",children:"There is no products in the cart"});var i=e.map((function(e){return e.priceInfo.unit})).reduce((function(e,t){return e+t})),u=Object(I.a)("pk_test_51HxMyeFjaqj6StBqxH7qGQDgMFsPUf5RJbOBB2c5UuO0oL0OfW81QY8VTZ3J6kVdMDg8U9qHq64DSR2bcKSKGgFX00b2C14se0");return Object(a.jsxs)("div",{className:"h-screen overflow-y-auto md:overflow-y-hidden",children:[Object(a.jsx)("ul",{className:"mt-14 h-4/6 overflow-y-auto sm:mt-10",children:e.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(A,Object(f.a)({},e))},e.name)}))}),Object(a.jsxs)("div",{className:"relative bg-white bottom-0 border-t border-gray-300 flex flex-col items-center w-full h-34 md:h-1/5",children:[Object(a.jsxs)("section",{className:"bg-white p-4 text-md h-2/5 w-full text-center text-gray-600 flex flex-row justify-between sm:w-4/12 sm:p-2",children:[" ",Object(a.jsx)("span",{children:"Sub total:"})," ",Object(a.jsxs)("span",{children:["usd ",i]})]}),Object(a.jsx)("button",{role:"link",className:"bg-blue-500 text-center rounded-sm h-16 w-11/12 text-gray-100 text-2xl sm:w-3/12 sm:h-12 sm:mt-3",onClick:function(){return s(!0)},children:"Go to checkout"})]}),c?Object(a.jsx)(h.Elements,{stripe:u,children:Object(a.jsx)(q,{finalPrice:i,setPaymentForm:s})}):""]})}var N=function(e){var t=e.name,r=e.images,n=e.priceInfo;return Object(a.jsxs)("figure",{className:"w-10/12 m-auto mb-7 h-80 shadow-lg p-5 flex flex-col justify-between sm:w-60 sm:border",children:[Object(a.jsx)("img",{className:"w-full m-auto max-h-44",src:r,alt:t}),Object(a.jsxs)("section",{className:"w-full border-t p-1 mb-0 border-gray-700",children:[Object(a.jsx)("h1",{className:"font-semibold text-2xl md:text-xl",children:t}),Object(a.jsxs)("figcaption",{className:"text-2xl md:text-xl",children:[n.currency.toUpperCase(),n.unit.slice(0,-2)]})]})]})},z=function(){var e=Object(p.a)(d.a.mark((function e(t){var r,a,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t.target.files[0]),r.append("purpose","business_logo"),e.prev=3,e.next=6,fetch("https://files.stripe.com/v1/files",{method:"POST",headers:{authorization:"Bearer sk_test_51HxMyeFjaqj6StBqs4BjSqfiUW1w3vI6zMMneU86XYQ7E7S0grMYM6It5UzWvFf2xrrQU01uJ7qqOV77ETMcpJHZ00f5M9PgHg"},body:r});case 6:return a=e.sent,e.next=9,a.json();case 9:if((n=e.sent).error){e.next=21;break}return e.next=13,fetch("https://api.stripe.com".concat(n.links.url),{method:"POST",headers:{authorization:"Bearer sk_test_51HxMyeFjaqj6StBqs4BjSqfiUW1w3vI6zMMneU86XYQ7E7S0grMYM6It5UzWvFf2xrrQU01uJ7qqOV77ETMcpJHZ00f5M9PgHg"}});case 13:return c=e.sent,e.next=16,c.json();case 16:return s=e.sent,console.log(s),e.abrupt("return",{imgUrl:s.url});case 21:return e.abrupt("return",{error:n.error});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[3,24]])})));return function(t){return e.apply(this,arguments)}}(),M=function(e,t,r,a){return function(){var n=Object(p.a)(d.a.mark((function n(c){var s,o,i,u;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("https://api.stripe.com/v1/products",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer sk_test_51HxMyeFjaqj6StBqs4BjSqfiUW1w3vI6zMMneU86XYQ7E7S0grMYM6It5UzWvFf2xrrQU01uJ7qqOV77ETMcpJHZ00f5M9PgHg"},body:"name=".concat(e,"&description=").concat(t,"&images[0]=").concat(a.imgUrl)});case 3:return s=n.sent,n.next=6,s.json();case 6:return o=n.sent,n.next=9,fetch("https://api.stripe.com/v1/prices",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer sk_test_51HxMyeFjaqj6StBqs4BjSqfiUW1w3vI6zMMneU86XYQ7E7S0grMYM6It5UzWvFf2xrrQU01uJ7qqOV77ETMcpJHZ00f5M9PgHg"},body:"unit_amount=".concat(r,"&product=").concat(o.id,"&currency=usd")});case 9:return i=n.sent,n.next=12,i.json();case 12:u=n.sent,o.priceInfo={currency:u.currency,unit:u.unit_amount.toString(),priceId:u.id},c(C(o)),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),console.log(n.t0);case 20:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(e){return n.apply(this,arguments)}}()},C=function(e){return{type:y,payload:e}},Q=function(e){var t=e.setCreateForm,r=Object(n.useState)(null),c=Object(j.a)(r,2),s=c[0],i=c[1],u=Object(o.b)(),l=g({name:"",description:"",price:""}),m=Object(j.a)(l,2),b=m[0],f=m[1],A=b.name,h=b.description,x=b.price,w=function(){var e=Object(p.a)(d.a.mark((function e(t){var r,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:r=e.sent,a=r.imgUrl,n=r.error,i({imgUrl:a,error:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=s||"",v=O.imgUrl,y=O.error,q=function(){var e=Object(p.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),u(M(A,h,x+"00",s)),t(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"bg-gray-300 bg-opacity-70 h-screen w-full grid place-items-center fixed z-10",children:Object(a.jsxs)("form",{className:"flex flex-col items-center justify-evenly bg-white rounded-md w-10/12 h-4/6 relative",onSubmit:q,children:[Object(a.jsx)("button",{onClick:function(){t(!1)},type:"button",className:"rounded-full position w-6 h-6 grid place-items-center border-2 border-gray-900 absolute -top-2 -right-2 bg-white hover:bg-red-400",children:Object(a.jsx)("i",{className:"fas fa-times"})}),Object(a.jsx)("input",{type:"text",name:"name",className:"border w-9/12 p-1",placeholder:"Product name",required:!0,value:A,onChange:f}),Object(a.jsx)("textarea",{name:"description",placeholder:"Description",className:"resize-none border w-9/12 p-1",value:h,onChange:f}),Object(a.jsx)("input",{type:"text",name:"price",placeholder:"Price",value:x,onChange:f,className:"border w-8/12 p-1"}),Object(a.jsx)("input",{type:"file",onChange:w,placeholder:"upload an image",className:"hidden"}),v?Object(a.jsx)("img",{src:v,className:"w-8/12 h-2/6",alt:"productImage"}):Object(a.jsx)("img",{src:"data:image/gif;base64,R0lGODlh6ANYAsQAAOTk5N7e3ufn5+jo6Ozs7Obm5vPz89/f3/T09ODg4PHx8e/v7/Dw8PLy8uPj4+3t7eLi4u7u7urq6uHh4eXl5enp6evr693d3fX19QAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAAAALAAAAADoA1gCAAX/ICaOZGmeaKqubOu+cCzPdG3feK7vfO//wKBwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweEwum8/otHrNbrvf8Lh8Tq/b7/i8fs/v+/+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+/wADChxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhT/6pcybKly5cwY8qcSbOmzZs4c+rcybOnz59AgwodSrSo0aNIkypdyrSp06dQo0qdSrWq1atYs2rdyrWr169gw4odS7as2bNo06pdy7at27dw48qdS7eu3bt48+rdy7ev37+AAwseTLiw4cOIEytezLix48eQI0ueTLmy5cuYM2vezLmz58+gQ4seTbq06dOoU6tezbq169ewY8ueTbu27du4c+vezbu379/AgwsfTry48ePIkytfzry58+fQo0ufTr269evYs2vfzr279+/gw4sfT768+fPo06tfz769+/fw48ufT7++/fv48+vfz7+///8ABijggAQWaOCBCCao4P+CDDbo4IMQRijhhBRWaOGFGGao4YYcdujhhyCGKOKIJJZo4okopqjiiiy26OKLMMYo44w01mjjjTjmqOOOPPbo449ABinkkEQWaeSRSCap5JJMNunkk1BGKeWUVFZp5ZVYZqnlllx26eWXYIYp5phklmnmmWimqeaabLbp5ptwxinnnHTWaeedeOap55589unnn4AGKuighBZq6KGIJqrooow26uijkEYq6aSUVmrppZhmqummnHbq6aeghirqqKSWauqpqKaq6qqsturqq7DGKuurCDBgQQEOAKDrrrz26uuvwAYrLK8OFCDBAgjM+pIBFjiQQAAXRCvttNRWa+3/tdhm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",className:"w-6/12 h-1/5 border-2",alt:"default"}),Object(a.jsxs)("button",{type:"button",className:"border w-9/12 p-1",onClick:function(){document.querySelector('input[type="file"]').click()},children:["Upload an img ",Object(a.jsx)("i",{className:"fas fa-long-arrow-alt-up text-xl"})]}),y&&Object(a.jsx)("p",{children:y.message}),Object(a.jsx)("button",{className:"border w-7/12 h-12 shadow-lg bg-gray-800 text-white",type:"submit",children:"Add product"})]})})};function P(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),r=t[0],c=t[1],s=Object(o.c)((function(e){return e.home})).products;return Object(a.jsxs)("div",{className:"flex w-full flex-col items-center",children:[r&&Object(a.jsx)(Q,{setCreateForm:c}),Object(a.jsx)("ul",{className:"mt-20 flex w-full flex-col items-center justify-evenly sm:flex-row sm:justify-evenly sm:flex-wrap",children:s.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(i.b,{to:"products/?pr=".concat(e[0].id),children:Object(a.jsx)(N,Object(f.a)({},e[0]))})},e[0].id)}))}),Object(a.jsx)("button",{onClick:function(){c(!0)},className:"rounded-full bg-gray-800 grid place-items-center fixed bottom-2 right-2 w-10 h-10 text-white shadow-lg outline-none",children:Object(a.jsx)("i",{className:"fas fa-plus"})})]})}var E=r(34),S=r.n(E),k=function(){var e=Object(p.a)(d.a.mark((function e(t){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return r=e.sent,a=r.filter((function(e){return e[0].id===t})),e.next=6,a[0];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function D(){var e=Object(u.f)(),t=Object(n.useState)(!1),r=Object(j.a)(t,2),c=r[0],s=r[1],l=S.a.parse(e.search),m=Object(n.useState)([]),d=Object(j.a)(m,2),p=d[0],b=d[1],A=Object(o.b)(),h=g({amount:""}),x=Object(j.a)(h,2),O=x[0],v=x[1];Object(n.useEffect)((function(){k(l.pr).then((function(e){return b(e)}))}),[l.pr]);var y=p[0]||"",q=y.name,I=y.description,B=y.priceInfo,N=y.images,z=(B||"").unit,M="string"===typeof z?z.slice(0,-2):z;return Object(a.jsxs)("div",{className:"h-screen",children:[Object(a.jsxs)("figure",{className:"mt-24 relative w-10/12 h-3/5 border-gray-300 rounded-sm border m-auto p-3 pt-6 sm:flex sm:flex-row sm:justify-start sm:pt-3 sm:mt-16 sm:h-4/6",children:[Object(a.jsx)("img",{className:"w-full m-auto max-h-40 sm:w-5/12 sm:max-h-full sm:h-full sm:m-0",src:N,alt:q}),Object(a.jsxs)("figcaption",{className:"flex flex-col justify-between h-2/6 sm:ml-5 sm:w-5/12",children:[Object(a.jsx)("h1",{className:"text-3xl font-semibold md:text-2xl",children:q}),Object(a.jsx)("p",{className:"text-xl tracking-wide leading-7 break-words",children:I})]}),Object(a.jsxs)("span",{className:"text-2xl absolute bottom-2 right-2 sm:top-3.5 sm:right-5",children:["$",M]})]}),Object(a.jsxs)("form",{className:"flex justify-center mt-5 h-20 sm:justify-end sm:w-11/12 sm:-mt-32 sm:-ml-8",children:[Object(a.jsx)("input",{type:"number",name:"amount",onChange:v,value:O.amount,placeholder:"1",className:"border p-2 w-6/12 text-2xl rounded-l-sm border-gray-400 sm:w-2/12 z-20"}),c?Object(a.jsx)(i.b,{to:"/cart",type:"button",className:"bg-red-500 border border-gray-400 w-4/12 rounded-r-sm grid place-items-center sm:w-1/12 font-semibold text-white z-20",children:"Go to cart"}):Object(a.jsx)("button",{onClick:function(){var e;A((e={name:q,description:I,priceInfo:Object(f.a)(Object(f.a)({},B),{},{unit:B.unit=""!==O.amount?parseInt(M,10)*parseInt(O.amount,10):parseInt(M,10)}),images:N,amount:O.amount},{type:w,payload:e})),s(!0)},type:"button",className:"bg-blue-400 border border-gray-400 w-4/12 rounded-r-sm sm:w-1/12  font-semibold text-white z-20",children:"Add to cart"})]})]})}function Y(){var e=Object(o.b)();return Object(n.useEffect)((function(){b().then((function(t){return e({type:v,payload:t})}))}),[e]),Object(a.jsxs)(i.a,{children:[Object(a.jsx)(l,{}),Object(a.jsx)("div",{children:Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{exact:!0,path:"/",component:P}),Object(a.jsx)(u.a,{exact:!0,path:"/cart",component:B}),Object(a.jsx)(u.a,{path:"/products/",component:D})]})})]})}var U=r(13),F=r(23),H={products:[]},W={products:[]},J=Object(U.c)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(f.a)(Object(f.a)({},e),{},{products:t.payload});case y:return Object(f.a)(Object(f.a)({},e),{},{products:[[t.payload]].concat(Object(F.a)(e.products))});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(f.a)(Object(f.a)({},e),{},{products:[].concat(Object(F.a)(e.products),[t.payload])});case O:return Object(f.a)(Object(f.a)({},e),{},{products:[]});default:return e}}}),Z=r(35),T="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.d,R=Object(U.e)(J,T(Object(U.a)(Z.a))),L=function(){return Object(a.jsx)(o.a,{store:R,children:Object(a.jsx)(Y,{})})};s.a.render(Object(a.jsx)(L,{}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.fb814ee0.chunk.js.map